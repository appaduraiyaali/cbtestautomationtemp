@isTest
global class MockUpSubResponseGenerator implements HttpCalloutMock
{
    global HTTPResponse respond(HTTPRequest req)
    {
        HTTPResponse res = new HTTPResponse();
        res.setHeader('Content-Type','application/json');
        res.setBody('{"estimate":{"unbilled_charge_estimates":[{"amount":75000,"quantity":1,"discount_amount":0,"description":"Annual","date_to":1577543427,"unit_amount":75000,"entity_id":"Testplan1","currency_code":"USD","subscription_id":"1mbDWfRRDVU9L714AG","deleted":false,"entity_type":"plan","pricing_model":"flat_fee","is_voided":false,"id":"li_1mkVvxdRDXFbsnCAi","date_from":1546007427,"object":"unbilled_charge"}],"created_at":1546007427,"subscription_estimate":{"next_billing_at":1577543427,"id":"1mbDWfRRDVU9L714AG","currency_code":"USD","status":"active","object":"subscription_estimate"},"object":"estimate"},"immediate_invoice_estimate":{"date":1545633730,"amount_paid":0,"recurring":true,"taxes":[],"line_items":[{"tax_amount":0,"is_taxed":false,"amount":3908,"quantity":1,"discount_amount":195,"description":"Personal Trainer - Prorated Charges","date_to":1547727188,"unit_amount":3908,"entity_id":"TestAddon5","subscription_id":"Hr5513CRCUNGEa1HPL","entity_type":"addon","pricing_model":"flat_fee","tax_exempt_reason":"export","item_level_discount_amount":0,"id":"li_J28UHYCRD7xcQdEJr","date_from":1545633730,"object":"line_item"}],"line_item_taxes":[],"currency_code":"USD","line_item_discounts":[{"line_item_id":"li_J28UHYCRD7xcQdEJr","coupon_id":"cbdemo_great","discount_amount":195,"discount_type":"document_level_coupon","object":"line_item_discount"}],"total":3713,"discounts":[{"amount":195,"entity_type":"document_level_coupon","description":"Doing Great","entity_id":"cbdemo_great","object":"discount"}],"credits_applied":0,"sub_total":3908,"price_type":"tax_exclusive","amount_due":3713,"round_off_amount":0,"object":"invoice_estimate"},"next_invoice_estimates":[{"date":1545633730,"amount_paid":0,"recurring":true,"taxes":[],"line_items":[{"tax_amount":0,"is_taxed":false,"amount":3908,"quantity":1,"discount_amount":195,"description":"Personal Trainer - Prorated Charges","date_to":1547727188,"unit_amount":3908,"entity_id":"TestAddon5","subscription_id":"Hr5513CRCUNGEa1HPL","entity_type":"addon","pricing_model":"flat_fee","tax_exempt_reason":"export","item_level_discount_amount":0,"id":"li_J28UHYCRD7xcQdEJr","date_from":1545633730,"object":"line_item"}],"line_item_taxes":[],"currency_code":"USD","line_item_discounts":[{"line_item_id":"li_J28UHYCRD7xcQdEJr","coupon_id":"cbdemo_great","discount_amount":195,"discount_type":"document_level_coupon","object":"line_item_discount"}],"total":3713,"discounts":[{"amount":195,"entity_type":"document_level_coupon","description":"Doing Great","entity_id":"cbdemo_great","object":"discount"}],"credits_applied":0,"sub_total":3908,"price_type":"tax_exclusive","amount_due":3713,"round_off_amount":0,"object":"invoice_estimate"}],"credit_note_estimates":[{"currency_code":"USD","reference_invoice_id":1134,"type":"refundable","total":1000,"sub_total":5000,"amount_allocated":5600,"discounts":[{"amount":195,"entity_type":"document_level_coupon","description":"Doing Great","entity_id":"cbdemo_great","object":"discount"}],"line_items":[{"tax_amount":0,"is_taxed":false,"amount":3908,"quantity":1,"discount_amount":195,"description":"Personal Trainer - Prorated Charges","date_to":1547727188,"unit_amount":3908,"entity_id":"TestAddon5","subscription_id":"Hr5513CRCUNGEa1HPL","entity_type":"addon","pricing_model":"flat_fee","tax_exempt_reason":"export","item_level_discount_amount":0,"id":"li_J28UHYCRD7xcQdEJr","date_from":1545633730,"object":"line_item"}]}],"order":{"addons":[{"amount":"300","charge_type":"recurring/non-recurring","tiers":[{"starting_quantity":"1","amount":"30","ending_quantity":"10","quantity_in_use":"3","unit_amount":"10"}],"quantity":"5","pricing_model":"flat_fee","added_type":"auto/manual","id":"TestAddon5","unit_amount":"100"}],"coupons":[{"id":"cbdemo_great"}],"plan":{"amount":"300","tiers":[{"starting_quantity":"1","amount":"30","ending_quantity":"10","quantity_in_use":"3","unit_amount":"10"}],"quantity":"5","pricing_model":"flat_fee","id":"Testplan1","unit_amount":"100","free_quantity":"2"}}}');
        res.setStatusCode(200);
        return res;
    }


}